

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explorador do Sistema Solar</title>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            background-color: #000;
            color: #fff;
        }
        
        #canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        #info-panel {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 300px;
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            padding: 15px;
            color: white;
            font-size: 14px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            z-index: 100;
            transition: all 0.3s ease;
        }
        
        #info-panel h2 {
            margin-bottom: 10px;
            color: #64b5f6;
            font-size: 18px;
        }
        
        #info-panel p {
            margin-bottom: 8px;
            line-height: 1.4;
        }
        
        .controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 100;
        }
        
        .controls button {
            background-color: rgba(25, 118, 210, 0.8);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s ease;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .controls button:hover {
            background-color: rgba(30, 136, 229, 0.9);
            transform: translateY(-2px);
        }
        
        .controls button.active {
            background-color: rgba(13, 71, 161, 0.9);
            box-shadow: 0 0 10px rgba(33, 150, 243, 0.5);
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            pointer-events: none;
            z-index: 1000;
            transition: opacity 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .orbital-info {
            position: absolute;
            color: rgba(255, 255, 255, 0.7);
            font-size: 12px;
            pointer-events: none;
        }
        
        .distance-marker {
            position: absolute;
            color: rgba(255, 255, 255, 0.8);
            font-size: 11px;
            background-color: rgba(0, 0, 0, 0.5);
            padding: 3px 6px;
            border-radius: 3px;
            pointer-events: none;
        }
        
        .help-button {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: rgba(25, 118, 210, 0.8);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
            z-index: 100;
            transition: all 0.2s ease;
        }
        
        .help-button:hover {
            background-color: rgba(30, 136, 229, 0.9);
            transform: scale(1.1);
        }
        
        .help-panel {
            position: absolute;
            top: 70px;
            left: 20px;
            width: 300px;
            background-color: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            padding: 15px;
            color: white;
            font-size: 14px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            z-index: 100;
            transform: translateY(-10px);
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
        }
        
        .help-panel.visible {
            transform: translateY(0);
            opacity: 1;
            pointer-events: all;
        }
        
        .help-panel h3 {
            color: #64b5f6;
            margin-bottom: 10px;
        }
        
        .help-panel ul {
            padding-left: 20px;
            margin-bottom: 10px;
        }
        
        .help-panel li {
            margin-bottom: 5px;
        }
        
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 1s ease;
        }
        
        .loading-screen h1 {
            color: #64b5f6;
            font-size: 32px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .loading-bar-container {
            width: 300px;
            height: 10px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            overflow: hidden;
        }
        
        .loading-bar {
            height: 100%;
            width: 0%;
            background-color: #64b5f6;
            transition: width 0.5s ease;
        }
        
        .loading-text {
            margin-top: 10px;
            color: rgba(255, 255, 255, 0.7);
        }
        
        @media (max-width: 768px) {
            #info-panel {
                width: calc(100% - 40px);
                top: auto;
                bottom: 80px;
                right: 20px;
                font-size: 12px;
            }
            
            .controls {
                flex-wrap: wrap;
                justify-content: center;
                width: 100%;
                padding: 0 10px;
            }
            
            .controls button {
                padding: 8px 12px;
                font-size: 12px;
            }
            
            .help-panel {
                width: calc(100% - 40px);
            }
        }
    </style>
</head>
<body>
    <div class="loading-screen">
        <h1>Explorador do Sistema Solar</h1>
        <div class="loading-bar-container">
            <div class="loading-bar"></div>
        </div>
        <div class="loading-text">Carregando recursos...</div>
    </div>
    
    <canvas id="canvas"></canvas>
    
    <div id="info-panel">
        <h2>Informações</h2>
        <p>Selecione um corpo celeste para ver detalhes.</p>
        <p>Use o mouse para navegar: clique e arraste para girar, role para zoom.</p>
    </div>
    
    <div class="controls">
        <button id="earth-btn">Terra</button>
        <button id="moon-btn">Lua</button>
        <button id="mars-btn">Marte</button>
        <button id="show-orbits">Mostrar Órbitas</button>
        <button id="show-distances">Distâncias</button>
    </div>
    
    <button class="help-button">?</button>
    <div class="help-panel">
        <h3>Como usar o Explorador</h3>
        <ul>
            <li><strong>Navegação:</strong> Clique e arraste para girar a câmera</li>
            <li><strong>Zoom:</strong> Use a roda do mouse ou pinça no touchscreen</li>
            <li><strong>Selecionar:</strong> Clique em um planeta para ver informações</li>
            <li><strong>Botões:</strong> Use os botões para focar em corpos celestes</li>
        </ul>
        <h3>Recursos</h3>
        <ul>
            <li><strong>Mostrar Órbitas:</strong> Visualiza as trajetórias orbitais</li>
            <li><strong>Distâncias:</strong> Mostra as distâncias relativas entre os corpos</li>
        </ul>
    </div>

    <script>
        // Configuração inicial
        let scene, camera, renderer, controls;
        let earth, moon, mars;
        let earthOrbit, moonOrbit, marsOrbit;
        let showOrbits = false;
        let showDistances = false;
        let distanceLabels = [];
        let selectedObject = null;
        let clock = new THREE.Clock();
        let orbitLines = [];
        let animationSpeed = 0.2;
        
        // Constantes para escala do sistema
        const SCALE_FACTOR = 1000; // Fator de escala para distâncias
        const SIZE_SCALE = 5; // Aumentar tamanho dos planetas para melhor visualização
        
        // Distâncias e tamanhos (em km, depois escalados)
        const EARTH_RADIUS = 6371 * SIZE_SCALE / SCALE_FACTOR;
        const MOON_RADIUS = 1737 * SIZE_SCALE / SCALE_FACTOR;
        const MARS_RADIUS = 3389.5 * SIZE_SCALE / SCALE_FACTOR;
        
        const EARTH_SUN_DISTANCE = 149.6e6 / SCALE_FACTOR;
        const MOON_EARTH_DISTANCE = 384400 / SCALE_FACTOR;
        const MARS_SUN_DISTANCE = 227.9e6 / SCALE_FACTOR;
        
        // Simulação de tela de carregamento
        function updateLoadingProgress(progress) {
            document.querySelector('.loading-bar').style.width = `${progress}%`;
            document.querySelector('.loading-text').textContent = 
                `Carregando recursos... ${Math.round(progress)}%`;
            
            if (progress >= 100) {
                setTimeout(() => {
                    document.querySelector('.loading-screen').style.opacity = '0';
                    setTimeout(() => {
                        document.querySelector('.loading-screen').style.display = 'none';
                    }, 1000);
                }, 500);
            }
        }
        
        // Simular progresso de carregamento
        let progress = 0;
        const loadingInterval = setInterval(() => {
            progress += 5;
            updateLoadingProgress(progress);
            if (progress >= 100) {
                clearInterval(loadingInterval);
            }
        }, 100);
        
        // Inicialização
        function init() {
            // Cena
            scene = new THREE.Scene();
            
            // Câmera
            camera = new THREE.PerspectiveCamera(
                60, 
                window.innerWidth / window.innerHeight, 
                0.1, 
                1000
            );
            camera.position.set(0, 5, 15);
            
            // Renderer
            renderer = new THREE.WebGLRenderer({
                canvas: document.getElementById('canvas'),
                antialias: true,
                alpha: true
            });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            
            // Controles
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            
            // Luz ambiente
            const ambientLight = new THREE.AmbientLight(0x404040);
            scene.add(ambientLight);
            
            // Luz direcional (sol)
            const sunLight = new THREE.DirectionalLight(0xffffff, 1);
            sunLight.position.set(-10, 5, 0);
            scene.add(sunLight);
            
            // Fundo de estrelas
            createStarBackground();
            
            // Criar corpos celestes
            createCelestialBodies();
            
            // Criar órbitas
            createOrbits();
            
            // Event listeners
            window.addEventListener('resize', onWindowResize);
            window.addEventListener('click', onMouseClick);
            
            // Botões de controle
            document.getElementById('earth-btn').addEventListener('click', () => focusOnObject(earth));
            document.getElementById('moon-btn').addEventListener('click', () => focusOnObject(moon));
            document.getElementById('mars-btn').addEventListener('click', () => focusOnObject(mars));
            document.getElementById('show-orbits').addEventListener('click', toggleOrbits);
            document.getElementById('show-distances').addEventListener('click', toggleDistances);
            
            // Botão de ajuda
            document.querySelector('.help-button').addEventListener('click', toggleHelpPanel);
            
            // Iniciar animação
            animate();
        }
        
        function createStarBackground() {
            const starGeometry = new THREE.BufferGeometry();
            const starCount = 2000;
            
            const positions = new Float32Array(starCount * 3);
            const colors = new Float32Array(starCount * 3);
            
            for (let i = 0; i < starCount * 3; i += 3) {
                // Posição aleatória em uma esfera
                const radius = 500;
                const theta = 2 * Math.PI * Math.random();
                const phi = Math.acos(2 * Math.random() - 1);
                
                positions[i] = radius * Math.sin(phi) * Math.cos(theta);
                positions[i + 1] = radius * Math.sin(phi) * Math.sin(theta);
                positions[i + 2] = radius * Math.cos(phi);
                
                // Cor branca com variação de brilho
                const brightness = 0.5 + Math.random() * 0.5;
                colors[i] = brightness;
                colors[i + 1] = brightness;
                colors[i + 2] = brightness;
            }
            
            starGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            starGeometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
            
            const starMaterial = new THREE.PointsMaterial({
                size: 1,
                vertexColors: true,
                transparent: true
            });
            
            const stars = new THREE.Points(starGeometry, starMaterial);
            scene.add(stars);
        }
        
        function createCelestialBodies() {
            // Terra
            const earthGeometry = new THREE.SphereGeometry(EARTH_RADIUS, 32, 32);
            const earthMaterial = new THREE.MeshPhongMaterial({
                map: createEarthTexture(),
                bumpMap: createEarthBumpMap(),
                bumpScale: 0.005,
                specularMap: createEarthSpecularMap(),
                specular: new THREE.Color(0x333333)
            });
            earth = new THREE.Mesh(earthGeometry, earthMaterial);
            earth.name = "Terra";
            earth.userData = {
                type: "planet",
                radius: 6371, // km
                mass: "5.97 × 10^24 kg",
                gravity: "9.8 m/s²",
                distanceFromSun: "149.6 milhões km",
                orbitalPeriod: "365.25 dias",
                rotationPeriod: "23.93 horas",
                description: "Nosso planeta natal, o único conhecido por abrigar vida. Possui uma atmosfera rica em oxigênio e nitrogênio, e 71% de sua superfície é coberta por água."
            };
            scene.add(earth);
            
            // Lua
            const moonGeometry = new THREE.SphereGeometry(MOON_RADIUS, 32, 32);
            const moonMaterial = new THREE.MeshPhongMaterial({
                map: createMoonTexture(),
                bumpMap: createMoonBumpMap(),
                bumpScale: 0.002,
            });
            moon = new THREE.Mesh(moonGeometry, moonMaterial);
            moon.position.set(MOON_EARTH_DISTANCE, 0, 0);
            moon.name = "Lua";
            moon.userData = {
                type: "moon",
                radius: 1737, // km
                mass: "7.35 × 10^22 kg",
                gravity: "1.62 m/s²",
                distanceFromEarth: "384,400 km",
                orbitalPeriod: "27.3 dias",
                rotationPeriod: "27.3 dias (rotação sincronizada)",
                description: "O único satélite natural da Terra. Sua formação provavelmente ocorreu após uma colisão entre a Terra e um corpo do tamanho de Marte há bilhões de anos."
            };
            scene.add(moon);
            
            // Marte
            const marsGeometry = new THREE.SphereGeometry(MARS_RADIUS, 32, 32);
            const marsMaterial = new THREE.MeshPhongMaterial({
                map: createMarsTexture(),
                bumpMap: createMarsBumpMap(),
                bumpScale: 0.005,
            });
            mars = new THREE.Mesh(marsGeometry, marsMaterial);
            mars.position.set(MARS_SUN_DISTANCE - EARTH_SUN_DISTANCE, 0, 0);
            mars.name = "Marte";
            mars.userData = {
                type: "planet",
                radius: 3389.5, // km
                mass: "6.42 × 10^23 kg",
                gravity: "3.72 m/s²",
                distanceFromSun: "227.9 milhões km",
                orbitalPeriod: "687 dias",
                rotationPeriod: "24.6 horas",
                description: "Conhecido como o Planeta Vermelho devido à alta concentração de óxido de ferro em sua superfície. Possui duas pequenas luas e é alvo de várias missões de exploração."
            };
            scene.add(mars);
        }
        
        function createOrbits() {
            // Órbita da Terra
            const earthOrbitGeometry = new THREE.BufferGeometry();
            const earthOrbitPoints = [];
            const earthOrbitSegments = 100;
            
            for (let i = 0; i <= earthOrbitSegments; i++) {
                const angle = (i / earthOrbitSegments) * Math.PI * 2;
                earthOrbitPoints.push(
                    Math.cos(angle) * EARTH_SUN_DISTANCE,
                    0,
                    Math.sin(angle) * EARTH_SUN_DISTANCE
                );
            }
            
            earthOrbitGeometry.setAttribute(
                'position',
                new THREE.Float32BufferAttribute(earthOrbitPoints, 3)
            );
            
            const earthOrbitMaterial = new THREE.LineBasicMaterial({
                color: 0x3498db,
                transparent: true,
                opacity: 0.5
            });
            
            earthOrbit = new THREE.Line(earthOrbitGeometry, earthOrbitMaterial);
            earthOrbit.rotation.x = Math.PI / 2;
            earthOrbit.visible = false;
            scene.add(earthOrbit);
            orbitLines.push(earthOrbit);
            
            // Órbita da Lua
            const moonOrbitGeometry = new THREE.BufferGeometry();
            const moonOrbitPoints = [];
            const moonOrbitSegments = 100;
            
            for (let i = 0; i <= moonOrbitSegments; i++) {
                const angle = (i / moonOrbitSegments) * Math.PI * 2;
                moonOrbitPoints.push(
                    Math.cos(angle) * MOON_EARTH_DISTANCE,
                    0,
                    Math.sin(angle) * MOON_EARTH_DISTANCE
                );
            }
            
            moonOrbitGeometry.setAttribute(
                'position',
                new THREE.Float32BufferAttribute(moonOrbitPoints, 3)
            );
            
            const moonOrbitMaterial = new THREE.LineBasicMaterial({
                color: 0x95a5a6,
                transparent: true,
                opacity: 0.5
            });
            
            moonOrbit = new THREE.Line(moonOrbitGeometry, moonOrbitMaterial);
            moonOrbit.rotation.x = Math.PI / 2;
            moonOrbit.visible = false;
            scene.add(moonOrbit);
            orbitLines.push(moonOrbit);
            
            // Órbita de Marte
            const marsOrbitGeometry = new THREE.BufferGeometry();
            const marsOrbitPoints = [];
            const marsOrbitSegments = 100;
            
            for (let i = 0; i <= marsOrbitSegments; i++) {
                const angle = (i / marsOrbitSegments) * Math.PI * 2;
                marsOrbitPoints.push(
                    Math.cos(angle) * MARS_SUN_DISTANCE,
                    0,
                    Math.sin(angle) * MARS_SUN_DISTANCE
                );
            }
            
            marsOrbitGeometry.setAttribute(
                'position',
                new THREE.Float32BufferAttribute(marsOrbitPoints, 3)
            );
            
            const marsOrbitMaterial = new THREE.LineBasicMaterial({
                color: 0xe74c3c,
                transparent: true,
                opacity: 0.5
            });
            
            marsOrbit = new THREE.Line(marsOrbitGeometry, marsOrbitMaterial);
            marsOrbit.rotation.x = Math.PI / 2;
            marsOrbit.visible = false;
            scene.add(marsOrbit);
            orbitLines.push(marsOrbit);
        }
        
        function createDistanceLabels() {
            // Limpar labels existentes
            distanceLabels.forEach(label => {
                document.body.removeChild(label);
            });
            distanceLabels = [];
            
            if (!showDistances) return;
            
            // Terra-Lua
            const earthPos = new THREE.Vector3();
            earth.getWorldPosition(earthPos);
            
            const moonPos = new THREE.Vector3();
            moon.getWorldPosition(moonPos);
            
            const earthMoonMidpoint = new THREE.Vector3().addVectors(earthPos, moonPos).multiplyScalar(0.5);
            addDistanceLabel(earthMoonMidpoint, "384.400 km", "Terra-Lua");
            
            // Terra-Marte
            const marsPos = new THREE.Vector3();
            mars.getWorldPosition(marsPos);
            
            const earthMarsMidpoint = new THREE.Vector3().addVectors(earthPos, marsPos).multiplyScalar(0.5);
            addDistanceLabel(earthMarsMidpoint, "78.3 milhões km (mín)", "Terra-Marte");
        }
        
        function addDistanceLabel(position, distance, label) {
            const distanceElement = document.createElement('div');
            distanceElement.className = 'distance-marker';
            distanceElement.textContent = `${label}: ${distance}`;
            document.body.appendChild(distanceElement);
            distanceLabels.push(distanceElement);
            
            updateLabelPosition(distanceElement, position);
        }
        
        function updateLabelPositions() {
            if (!showDistances) return;
            
            // Atualizar Terra-Lua
            const earthPos = new THREE.Vector3();
            earth.getWorldPosition(earthPos);
            
            const moonPos = new THREE.Vector3();
            moon.getWorldPosition(moonPos);
            
            const earthMoonMidpoint = new THREE.Vector3().addVectors(earthPos, moonPos).multiplyScalar(0.5);
            updateLabelPosition(distanceLabels[0], earthMoonMidpoint);
            
            // Atualizar Terra-Marte
            const marsPos = new THREE.Vector3();
            mars.getWorldPosition(marsPos);
            
            const earthMarsMidpoint = new THREE.Vector3().addVectors(earthPos, marsPos).multiplyScalar(0.5);
            updateLabelPosition(distanceLabels[1], earthMarsMidpoint);
        }
        
        function updateLabelPosition(element, position3D) {
            const position2D = toScreenPosition(position3D, camera);
            element.style.left = position2D.x + 'px';
            element.style.top = position2D.y + 'px';
        }
        
        function toScreenPosition(position, camera) {
            const vector = position.clone();
            vector.project(camera);
            
            const widthHalf = window.innerWidth / 2;
            const heightHalf = window.innerHeight / 2;
            
            return {
                x: (vector.x * widthHalf) + widthHalf,
                y: -(vector.y * heightHalf) + heightHalf
            };
        }
        
        function animate() {
            requestAnimationFrame(animate);
            
            const delta = clock.getDelta();
            
            // Rotação da Terra
            earth.rotation.y += 0.005 * animationSpeed;
            
            // Movimento orbital da Lua ao redor da Terra
            const moonAngle = Date.now() * 0.0001 * animationSpeed;
            moon.position.x = Math.cos(moonAngle) * MOON_EARTH_DISTANCE;
            moon.position.z = Math.sin(moonAngle) * MOON_EARTH_DISTANCE;
            moon.rotation.y += 0.002 * animationSpeed;
            
            // Movimento orbital da Terra e Marte ao redor do Sol
            const earthAngle = Date.now() * 0.00005 * animationSpeed;
            earth.position.x = Math.cos(earthAngle) * EARTH_SUN_DISTANCE;
            earth.position.z = Math.sin(earthAngle) * EARTH_SUN_DISTANCE;
            
            const marsAngle = Date.now() * 0.00003 * animationSpeed;
            mars.position.x = Math.cos(marsAngle) * MARS_SUN_DISTANCE;
            mars.position.z = Math.sin(marsAngle) * MARS_SUN_DISTANCE;
            mars.rotation.y += 0.004 * animationSpeed;
            
            // Atualizar posição da órbita da Lua para seguir a Terra
            moonOrbit.position.copy(earth.position);
            
            // Atualizar posições dos rótulos de distância
            updateLabelPositions();
            
            controls.update();
            renderer.render(scene, camera);
        }
        
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }
        
        function onMouseClick(event) {
            const mouse = new THREE.Vector2(
                (event.clientX / window.innerWidth) * 2 - 1,
                -(event.clientY / window.innerHeight) * 2 + 1
            );
            
            const raycaster = new THREE.Raycaster();
            raycaster.setFromCamera(mouse, camera);
            
            const intersects = raycaster.intersectObjects([earth, moon, mars]);
            
            if (intersects.length > 0) {
                selectedObject = intersects[0].object;
                updateInfoPanel(selectedObject);
            }
        }
        
        function updateInfoPanel(object) {
            const infoPanel = document.getElementById('info-panel');
            
            if (!object || !object.userData) {
                infoPanel.innerHTML = `
                    <h2>Informações</h2>
                    <p>Selecione um corpo celeste para ver detalhes.</p>
                `;
                return;
            }
            
            const data = object.userData;
            
            infoPanel.innerHTML = `
                <h2>${object.name}</h2>
                <p><strong>Raio:</strong> ${data.radius} km</p>
                <p><strong>Massa:</strong> ${data.mass}</p>
                <p><strong>Gravidade:</strong> ${data.gravity}</p>
                <p><strong>Período orbital:</strong> ${data.orbitalPeriod}</p>
                <p><strong>Período de rotação:</strong> ${data.rotationPeriod}</p>
                <p>${data.description}</p>
            `;
            
            // Destacar botão correspondente
            document.querySelectorAll('.controls button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            if (object === earth) {
                document.getElementById('earth-btn').classList.add('active');
            } else if (object === moon) {
                document.getElementById('moon-btn').classList.add('active');
            } else if (object === mars) {
                document.getElementById('mars-btn').classList.add('active');
            }
        }
        
        function focusOnObject(object) {
            selectedObject = object;
            updateInfoPanel(object);
            
            // Posição da câmera para focar no objeto
            const objectPos = new THREE.Vector3();
            object.getWorldPosition(objectPos);
            
            // Calcular distância baseada no tamanho do objeto
            let distance;
            if (object === earth) {
                distance = EARTH_RADIUS * 15;
            } else if (object === moon) {
                distance = MOON_RADIUS * 20;
            } else if (object === mars) {
                distance = MARS_RADIUS * 15;
            }
            
            // Animar a transição da câmera
            const startPos = camera.position.clone();
            const endPos = objectPos.clone().add(new THREE.Vector3(0, distance * 0.5, distance));
            
            const startTime = Date.now();
            const duration = 1000; // ms
            
            function animateCamera() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                // Função de easing para movimento suave
                const easeProgress = 1 - Math.pow(1 - progress, 3);
                
                camera.position.lerpVectors(startPos, endPos, easeProgress);
                controls.target.lerp(objectPos, easeProgress);
                
                if (progress < 1) {
                    requestAnimationFrame(animateCamera);
                }
            }
            
            animateCamera();
        }
        
        function toggleOrbits() {
            showOrbits = !showOrbits;
            
            orbitLines.forEach(orbit => {
                orbit.visible = showOrbits;
            });
            
            const btn = document.getElementById('show-orbits');
            if (showOrbits) {
                btn.classList.add('active');
            } else {
                btn.classList.remove('active');
            }
        }
        
        function toggleDistances() {
            showDistances = !showDistances;
            
            if (showDistances) {
                createDistanceLabels();
                document.getElementById('show-distances').classList.add('active');
            } else {
                distanceLabels.forEach(label => {
                    document.body.removeChild(label);
                });
                distanceLabels = [];
                document.getElementById('show-distances').classList.remove('active');
            }
        }
        
        function toggleHelpPanel() {
            const helpPanel = document.querySelector('.help-panel');
            helpPanel.classList.toggle('visible');
        }
        
        // Funções para criar texturas
        function createEarthTexture() {
            const canvas = document.createElement('canvas');
            canvas.width = 1024;
            canvas.height = 512;
            const ctx = canvas.getContext('2d');
            
            // Cor base do oceano
            ctx.fillStyle = '#0077be';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Continentes
            ctx.fillStyle = '#228B22';
            
            // América do Norte
            ctx.beginPath();
            ctx.moveTo(200, 180);
            ctx.lineTo(300, 150);
            ctx.lineTo(350, 200);
            ctx.lineTo(320, 250);
            ctx.lineTo(250, 280);
            ctx.lineTo(200, 250);
            ctx.fill();
            
            // América do Sul
            ctx.beginPath();
            ctx.moveTo(300, 280);
            ctx.lineTo(350, 300);
            ctx.lineTo(330, 380);
            ctx.lineTo(280, 400);
            ctx.lineTo(260, 350);
            ctx.fill();
            
            // Europa e África
            ctx.beginPath();
            ctx.moveTo(500, 150);
            ctx.lineTo(550, 180);
            ctx.lineTo(580, 250);
            ctx.lineTo(550, 350);
            ctx.lineTo(500, 380);
            ctx.lineTo(480, 300);
            ctx.lineTo(470, 200);
            ctx.fill();
            
            // Ásia e Oceania
            ctx.beginPath();
            ctx.moveTo(600, 150);
            ctx.lineTo(750, 180);
            ctx.lineTo(800, 250);
            ctx.lineTo(750, 300);
            ctx.lineTo(700, 280);
            ctx.lineTo(650, 300);
            ctx.lineTo(700, 350);
            ctx.lineTo(750, 380);
            ctx.lineTo(700, 400);
            ctx.lineTo(650, 350);
            ctx.lineTo(600, 300);
            ctx.fill();
            
            // Pólos
            ctx.fillStyle = '#FFFFFF';
            ctx.beginPath();
            ctx.ellipse(canvas.width / 2, 50, 400, 50, 0, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.beginPath();
            ctx.ellipse(canvas.width / 2, canvas.height - 50, 400, 50, 0, 0, Math.PI * 2);
            ctx.fill();
            
            // Nuvens
            ctx.fillStyle = 'rgba(255, 255, 255, 0.5)';
            for (let i = 0; i < 20; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                const size = 20 + Math.random() * 60;
                
                ctx.beginPath();
                ctx.ellipse(x, y, size, size / 2, 0, 0, Math.PI * 2);
                ctx.fill();
            }
            
            const texture = new THREE.CanvasTexture(canvas);
            return texture;
        }
        
        function createEarthBumpMap() {
            const canvas = document.createElement('canvas');
            canvas.width = 1024;
            canvas.height = 512;
            const ctx = canvas.getContext('2d');
            
            // Fundo plano (oceanos)
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Continentes (elevados)
            ctx.fillStyle = '#FFFFFF';
            
            // América do Norte
            ctx.beginPath();
            ctx.moveTo(200, 180);
            ctx.lineTo(300, 150);
            ctx.lineTo(350, 200);
            ctx.lineTo(320, 250);
            ctx.lineTo(250, 280);
            ctx.lineTo(200, 250);
            ctx.fill();
            
            // América do Sul
            ctx.beginPath();
            ctx.moveTo(300, 280);
            ctx.lineTo(350, 300);
            ctx.lineTo(330, 380);
            ctx.lineTo(280, 400);
            ctx.lineTo(260, 350);
            ctx.fill();
            
            // Europa e África
            ctx.beginPath();
            ctx.moveTo(500, 150);
            ctx.lineTo(550, 180);
            ctx.lineTo(580, 250);
            ctx.lineTo(550, 350);
            ctx.lineTo(500, 380);
            ctx.lineTo(480, 300);
            ctx.lineTo(470, 200);
            ctx.fill();
            
            // Ásia e Oceania
            ctx.beginPath();
            ctx.moveTo(600, 150);
            ctx.lineTo(750, 180);
            ctx.lineTo(800, 250);
            ctx.lineTo(750, 300);
            ctx.lineTo(700, 280);
            ctx.lineTo(650, 300);
            ctx.lineTo(700, 350);
            ctx.lineTo(750, 380);
            ctx.lineTo(700, 400);
            ctx.lineTo(650, 350);
            ctx.lineTo(600, 300);
            ctx.fill();
            
            // Adicionar algumas montanhas
            ctx.fillStyle = '#FFFFFF';
            for (let i = 0; i < 50; i++) {
                const x = Math.random() * canvas.width;
                const y = 100 + Math.random() * (canvas.height - 200);
                const size = 5 + Math.random() * 15;
                
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
            }
            
            const texture = new THREE.CanvasTexture(canvas);
            return texture;
        }
        
        function createEarthSpecularMap() {
            const canvas = document.createElement('canvas');
            canvas.width = 1024;
            canvas.height = 512;
            const ctx = canvas.getContext('2d');
            
            // Oceanos mais reflexivos
            ctx.fillStyle = '#FFFFFF';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Continentes menos reflexivos
            ctx.fillStyle = '#111111';
            
            // América do Norte
            ctx.beginPath();
            ctx.moveTo(200, 180);
            ctx.lineTo(300, 150);
            ctx.lineTo(350, 200);
            ctx.lineTo(320, 250);
            ctx.lineTo(250, 280);
            ctx.lineTo(200, 250);
            ctx.fill();
            
            // América do Sul
            ctx.beginPath();
            ctx.moveTo(300, 280);
            ctx.lineTo(350, 300);
            ctx.lineTo(330, 380);
            ctx.lineTo(280, 400);
            ctx.lineTo(260, 350);
            ctx.fill();
            
            // Europa e África
            ctx.beginPath();
            ctx.moveTo(500, 150);
            ctx.lineTo(550, 180);
            ctx.lineTo(580, 250);
            ctx.lineTo(550, 350);
            ctx.lineTo(500, 380);
            ctx.lineTo(480, 300);
            ctx.lineTo(470, 200);
            ctx.fill();
            
            // Ásia e Oceania
            ctx.beginPath();
            ctx.moveTo(600, 150);
            ctx.lineTo(750, 180);
            ctx.lineTo(800, 250);
            ctx.lineTo(750, 300);
            ctx.lineTo(700, 280);
            ctx.lineTo(650, 300);
            ctx.lineTo(700, 350);
            ctx.lineTo(750, 380);
            ctx.lineTo(700, 400);
            ctx.lineTo(650, 350);
            ctx.lineTo(600, 300);
            ctx.fill();
            
            const texture = new THREE.CanvasTexture(canvas);
            return texture;
        }
        
        function createMoonTexture() {
            const canvas = document.createElement('canvas');
            canvas.width = 1024;
            canvas.height = 512;
            const ctx = canvas.getContext('2d');
            
            // Cor base cinza
            ctx.fillStyle = '#888888';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Adicionar crateras
            for (let i = 0; i < 500; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                const size = 2 + Math.random() * 10;
                
                // Borda da cratera
                ctx.fillStyle = '#777777';
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
                
                // Interior da cratera
                ctx.fillStyle = '#999999';
                ctx.beginPath();
                ctx.arc(x, y, size * 0.8, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // Adicionar algumas crateras maiores
            for (let i = 0; i < 20; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                const size = 15 + Math.random() * 30;
                
                // Borda da cratera
                ctx.fillStyle = '#666666';
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
                
                // Interior da cratera
                ctx.fillStyle = '#999999';
                ctx.beginPath();
                ctx.arc(x, y, size * 0.8, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // Adicionar "mares" lunares
            ctx.fillStyle = '#555555';
            for (let i = 0; i < 5; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                const size = 50 + Math.random() * 100;
                
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
            }
            
            const texture = new THREE.CanvasTexture(canvas);
            return texture;
        }
        
        function createMoonBumpMap() {
            const canvas = document.createElement('canvas');
            canvas.width = 1024;
            canvas.height = 512;
            const ctx = canvas.getContext('2d');
            
            // Fundo plano
            ctx.fillStyle = '#555555';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Adicionar crateras
            for (let i = 0; i < 500; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                const size = 2 + Math.random() * 10;
                
                // Borda da cratera (elevada)
                ctx.fillStyle = '#FFFFFF';
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
                
                // Interior da cratera (depressão)
                ctx.fillStyle = '#000000';
                ctx.beginPath();
                ctx.arc(x, y, size * 0.8, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // Adicionar algumas crateras maiores
            for (let i = 0; i < 20; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                const size = 15 + Math.random() * 30;
                
                // Borda da cratera (elevada)
                ctx.fillStyle = '#FFFFFF';
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
                
                // Interior da cratera (depressão)
                ctx.fillStyle = '#000000';
                ctx.beginPath();
                ctx.arc(x, y, size * 0.8, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // Adicionar "mares" lunares (depressões)
            ctx.fillStyle = '#222222';
            for (let i = 0; i < 5; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                const size = 50 + Math.random() * 100;
                
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
            }
            
            const texture = new THREE.CanvasTexture(canvas);
            return texture;
        }
        
        function createMarsTexture() {
            const canvas = document.createElement('canvas');
            canvas.width = 1024;
            canvas.height = 512;
            const ctx = canvas.getContext('2d');
            
            // Cor base vermelha
            ctx.fillStyle = '#c1440e';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Variações de terreno
            for (let i = 0; i < 2000; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                const size = 1 + Math.random() * 5;
                
                // Variação de cor
                const shade = Math.random() * 30;
                ctx.fillStyle = `rgb(${193 - shade}, ${68 - shade / 2}, ${14 - shade / 4})`;
                
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // Adicionar algumas crateras
            for (let i = 0; i < 100; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                const size = 2 + Math.random() * 15;
                
                // Borda da cratera
                ctx.fillStyle = '#a13a0c';
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
                
                // Interior da cratera
                ctx.fillStyle = '#d14e0f';
                ctx.beginPath();
                ctx.arc(x, y, size * 0.8, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // Olympus Mons (maior vulcão do sistema solar)
            ctx.fillStyle = '#8a3209';
            ctx.beginPath();
            ctx.arc(300, 250, 40, 0, Math.PI * 2);
            ctx.fill();
            
            // Valles Marineris (grande sistema de cânions)
            ctx.fillStyle = '#8a3209';
            ctx.beginPath();
            ctx.ellipse(600, 250, 150, 20, 0, 0, Math.PI * 2);
            ctx.fill();
            
            // Calotas polares
            ctx.fillStyle = '#FFFFFF';
            ctx.beginPath();
            ctx.ellipse(canvas.width / 2, 50, 200, 50, 0, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.beginPath();
            ctx.ellipse(canvas.width / 2, canvas.height - 50, 200, 50, 0, 0, Math.PI * 2);
            ctx.fill();
            
            const texture = new THREE.CanvasTexture(canvas);
            return texture;
        }
        
        function createMarsBumpMap() {
            const canvas = document.createElement('canvas');
            canvas.width = 1024;
            canvas.height = 512;
            const ctx = canvas.getContext('2d');
            
            // Fundo plano
            ctx.fillStyle = '#555555';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Adicionar crateras
            for (let i = 0; i < 100; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                const size = 2 + Math.random() * 15;
                
                // Borda da cratera (elevada)
                ctx.fillStyle = '#FFFFFF';
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
                
                // Interior da cratera (depressão)
                ctx.fillStyle = '#000000';
                ctx.beginPath();
                ctx.arc(x, y, size * 0.8, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // Olympus Mons (maior vulcão do sistema solar)
            ctx.fillStyle = '#FFFFFF';
            ctx.beginPath();
            ctx.arc(300, 250, 40, 0, Math.PI * 2);
            ctx.fill();
            
            // Valles Marineris (grande sistema de cânions)
            ctx.fillStyle = '#000000';
            ctx.beginPath();
            ctx.ellipse(600, 250, 150, 20, 0, 0, Math.PI * 2);
            ctx.fill();
            
            const texture = new THREE.CanvasTexture(canvas);
            return texture;
        }
        
        // Iniciar quando a página carregar
        window.addEventListener('load', init);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'950ebcfe3063f1f6',t:'MTc1MDEyMzM3MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
